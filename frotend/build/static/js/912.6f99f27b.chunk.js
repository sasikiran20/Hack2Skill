"use strict";(self.webpackChunkfrotend=self.webpackChunkfrotend||[]).push([[912],{4531:(e,a,t)=>{t.r(a),t.d(a,{default:()=>W});var s=t(6205),n=t(4024),r=t(3779),l=t(2406),o=t(3593),c=t(6535),i=t(176),d=t(2188),u=t(57),m=t(5517),p=t(8889),x=t(3463),h=t(4310),j=t(395),g=t(3790),A=t(4227),v=t(2827),f=t(2538),N=t(4993),C=t(5398),S=t(2286),y=t(9957),P=t(4077),F=t(5926),I=t(1826),b=t(1971),k=t(4672),w=t(1390),z=t(6713);const W=function(){const e=(0,n.wA)(),a=(0,g.W6)(),t=(0,r.MW)(),W=(0,w.A)(),B=(0,g.W5)().params.id,{error:D,product:q}=(0,n.d4)((e=>e.productDetails)),{loading:O,error:U,isUpdated:E}=(0,n.d4)((e=>e.deleteUpdateProduct)),[R,T]=(0,s.useState)(""),[M,V]=(0,s.useState)(0),[H,J]=(0,s.useState)(""),[L,Y]=(0,s.useState)(""),[_,G]=(0,s.useState)(!1),[K,Q]=(0,s.useState)(0),[X,Z]=(0,s.useState)([]),[$,ee]=(0,s.useState)(""),[ae,te]=(0,s.useState)([]),[se,ne]=(0,s.useState)([]),re=(0,s.useRef)(),[le,oe]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{q&&q._id!==B?e((0,j.Ok)(B)):(T(q.name),J(q.description),V(q.price),Y(""),ee(q.info),Q(q.Stock),ne(q.images)),D&&(t.error(D),e((0,j.x8)())),U&&(t.error(U),e((0,j.x8)())),E&&(t.success("Product Updated Successfully"),a.push("/admin/products"),e({type:A.YP}))}),[e,t,D,a,E,B,q,U]),(0,z.jsx)(z.Fragment,{children:O?(0,z.jsx)(o.A,{}):(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(l.A,{title:"Create Product"}),(0,z.jsxs)("div",{className:W.updateProduct,children:[(0,z.jsx)("div",{className:"".concat(le?W.toggleBox1:W.firstBox1),children:(0,z.jsx)(h.A,{})}),(0,z.jsxs)("div",{className:W.secondBox1,children:[(0,z.jsx)("div",{className:W.navBar1,children:(0,z.jsx)(k.A,{toggleHandler:()=>{console.log("toggle"),oe(!le)}})}),(0,z.jsx)("div",{className:"".concat(W.formContainer," ").concat(W.formContainer2),children:(0,z.jsxs)("form",{className:"".concat(W.form," ").concat(W.form2),encType:"multipart/form-data",children:[(0,z.jsx)(d.A,{className:W.avatar,children:(0,z.jsx)(y.A,{})}),(0,z.jsx)(u.A,{variant:"h5",component:"h1",className:W.heading,children:"Create Product"}),(0,z.jsx)(m.A,{variant:"outlined",fullWidth:!0,className:"".concat(W.nameInput," ").concat(W.textField),label:"Product Name",required:!0,value:R,onChange:e=>T(e.target.value),InputProps:{endAdornment:(0,z.jsx)(v.A,{position:"end",children:(0,z.jsx)(N.A,{style:{fontSize:20,color:"#414141"}})})}}),(0,z.jsx)(m.A,{variant:"outlined",label:"Price",value:M,required:!0,fullWidth:!0,className:"".concat(W.passwordInput," ").concat(W.textField),onChange:e=>V(e.target.value),InputProps:{endAdornment:(0,z.jsx)(v.A,{position:"end",style:{fontSize:20,color:"#414141"},children:(0,z.jsx)(S.A,{})})}}),(0,z.jsx)(m.A,{variant:"outlined",label:"Stock",value:K,required:!0,className:"".concat(W.passwordInput," ").concat(W.textField),onChange:e=>Q(e.target.value),InputProps:{endAdornment:(0,z.jsx)(v.A,{position:"end",style:{fontSize:20,color:"#414141"},children:(0,z.jsx)(i.A,{})})}}),(0,z.jsx)(m.A,{variant:"outlined",label:"Prodcut Info",value:$,required:!0,className:"".concat(W.passwordInput," ").concat(W.textField),onChange:e=>ee(e.target.value),InputProps:{endAdornment:(0,z.jsx)(v.A,{position:"end",style:{fontSize:20,color:"#414141"},children:(0,z.jsx)(I.A,{})})}}),(0,z.jsxs)("div",{className:W.selectOption,children:[!_&&(0,z.jsx)(u.A,{variant:"body2",className:W.labelText,children:"Choose Category"}),(0,z.jsx)(p.A,{className:W.formControl,children:(0,z.jsxs)(F.A,{variant:"outlined",fullWidth:!0,value:L,onChange:e=>{Y(e.target.value),G(!0)},className:W.select,inputProps:{name:"category",id:"category-select"},MenuProps:{classes:{paper:W.menu},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},children:[!L&&(0,z.jsx)(b.A,{value:"",children:(0,z.jsx)("em",{children:"Choose Category"})}),["Antique Ceramics","Vase","Clocks","Jewellery","Vintage Decor"].map((e=>(0,z.jsx)(b.A,{value:e,children:e},e)))]})})]}),(0,z.jsx)(m.A,{variant:"outlined",fullWidth:!0,className:W.descriptionInput,label:"Product Description",multiline:!0,rows:1,value:H,onChange:e=>J(e.target.value),InputProps:{endAdornment:(0,z.jsx)(v.A,{position:"end",children:(0,z.jsx)(c.A,{className:W.descriptionIcon})})}}),(0,z.jsxs)("div",{className:W.root,children:[(0,z.jsx)("div",{className:W.imgIcon,children:(0,z.jsx)(P.A,{fontSize:"large",style:{fontSize:40}})}),(0,z.jsx)("input",{type:"file",name:"avatar",className:W.input,accept:"image/*",onChange:e=>{const a=Array.from(e.target.files);Z([]),te([]),ne([]),a.forEach((e=>{const a=new FileReader;a.onload=()=>{2===a.readyState&&(te((e=>[...e,a.result])),Z((e=>[...e,a.result])))},a.readAsDataURL(e)}))},multiple:!0,style:{display:"none"},ref:re}),(0,z.jsx)("label",{htmlFor:"avatar-input",children:(0,z.jsx)(x.A,{variant:"contained",color:"default",className:W.uploadAvatarButton,startIcon:(0,z.jsx)(C.A,{style:{color:"#FFFFFF"}}),onClick:()=>{re.current.click()},children:(0,z.jsx)("p",{className:W.uploadAvatarText,children:"Upload Images"})})})]}),ae.length>0?(0,z.jsx)(f.A,{className:W.imageArea,children:ae&&ae.map(((e,a)=>(0,z.jsx)("img",{src:e,alt:"Product Preview",className:W.image},a)))}):(0,z.jsx)(f.A,{className:W.imageArea,children:se&&se.map(((e,a)=>(0,z.jsx)("img",{src:e.url,alt:"Old Product Preview",className:W.image},a)))}),(0,z.jsx)(x.A,{variant:"contained",className:W.loginButton,fullWidth:!0,onClick:a=>{a.preventDefault();const t=new FormData;t.set("name",R),t.set("price",M),t.set("description",H),t.set("category",L),t.set("Stock",K),t.set("info",$),X.forEach((e=>{t.append("images",e)})),e((0,j.vc)(B,t))},disabled:!!O,children:"Create"})]})})]})]})]})})})}}}]);
//# sourceMappingURL=912.6f99f27b.chunk.js.map